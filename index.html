<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="utf-8">
  <title>station_lottery</title>
</head>
<body>
<p>駅ガチャの回数(1-6)</p>
<select id="order">
    <option value="1l">1</option>
    <option value="2l">2</option>
    <option value="3l">3</option>
    <option value="4l">4</option>
    <option value="5l">5</option>
    <option value="6l">6</option>
</select>
<button id="start">実行</button>
<p>駅の候補</p>
<p><span id="result"></span></p>

  <script  src="https://code.jquery.com/jquery-3.4.1.slim.min.js"  
integrity="sha256-pasqAKBDmFT4eHoN2ndd6lN370kFiGUFyTiUHWhU7k8="  crossorigin="anonymous"></script>
  <script>
    // CSVファイル読み込み
  function csvToArray(filename) {

    // CSVファイルを文字列として取得
    let srt = new XMLHttpRequest();

    srt.open("GET", filename, false);
    try {
    srt.send(null);
    } catch (err) {
    console.log(err)
    }

    // 配列を用意
    let csletr = [];

    // 改行ごとに配列化
    let lines = srt.responseText.split(/\r\n|\n/);

    // 1行ごとに処理
    for (let i = 0; i < lines.length; ++i) {
    let cells = lines[i].split(",");
    if (cells.length != 1) {
        csletr.push(cells);
    }
    }

    return csletr;

    }

    // CSVの読み込み
    let sta = csvToArray("station20220921free.csv");

    // くじ引き結果
    $("#start").click(function() {
		// value値を取得
		// const str1 = console.log(sta[1]);
		$("#result").text(console.log(sta));
	});
    // ボタンを押した際の動作
    $('#startButton').on('click', function() {
      var random = Math.floor( Math.random() * results.length );
      var result =  results[random];
      $('#result').html(result);
    });
</script>
</body>
</html>